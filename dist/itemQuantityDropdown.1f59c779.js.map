{"version":3,"sources":["itemQuantityDropdown/itemQuantityDropdown.js"],"names":["String","prototype","startsWith","Object","defineProperty","value","search","rawPos","pos","substring","length","numNameChange","quantity","nameList","quantityMod","changeHeadline","currentMode","$","closest","data","itemQuantity","thisItemQuantity","itemName","retuenedName","numNamesGuest","numBedroom","numBed","numBathroom","find","each","html","children","toLowerCase","slice","prop","css","document","ready","listToggle","hiddenList","plusButton","minusButton","currentQuantity","call","siblings","click","slideToggle","varQuantity"],"mappings":"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","file":"itemQuantityDropdown.1f59c779.js","sourceRoot":"..\\src","sourcesContent":["if (!String.prototype.startsWith) {\r\n    Object.defineProperty(String.prototype, 'startsWith', {\r\n        value: function(search, rawPos) {\r\n            var pos = rawPos > 0 ? rawPos|0 : 0;\r\n            return this.substring(pos, pos + search.length) === search;\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction numNameChange(quantity, nameList) {\r\n    let quantityMod = 0;\r\n    quantityMod = quantity % 10;\r\n        if (!quantity) {\r\n            return('');\r\n        }\r\n\r\n        if (quantity > 10 && quantity < 21) { \r\n            return(nameList[2]); \r\n        } else {\r\n            // if (varQuantity1 > 1 && varQuantity1 < 5) { nameQ=' гостя'; }\r\n            if (quantityMod == 1) {\r\n                return(nameList[0]);\r\n            } else {\r\n                if(quantityMod > 1 && quantityMod < 5){\r\n                    return (nameList[1]);\r\n                } else {\r\n                    return(nameList[2]);\r\n                }\r\n            }\r\n        }\r\n    \r\n}\r\n\r\nfunction changeHeadline() {\r\n    let currentMode = $(this).closest('.itemQuantityDropdown').data('mode'); //current \"script\" mode\r\n    let itemQuantity = 0; //summ all lists items quantity\r\n    let thisItemQuantity = 0; //current item quantity\r\n    // let itemQuantityMod = 0;\r\n    let itemName = ''; //special variation of name for current item quantity\r\n    let retuenedName='';\r\n\r\n    let numNamesGuest = [' гость',' гостя',' гостей'];\r\n    let numBedroom = [' спальня', ' спальни', ' спален'];\r\n    let numBed = [' кровать', ' кровати', ' кроватей'];\r\n    let numBathroom = [' ванная комната', ' ванные комнаты', ' ванных комнат'];\r\n\r\n    $(this).closest('.itemQuantityDropdown').find('.itemQuantityDropdown__currentQuantity').each(function(){\r\n        itemQuantity = itemQuantity+(+$(this).html());        \r\n    });\r\n\r\n\r\n    if(currentMode == 'eachItems'){\r\n        if(itemQuantity) {\r\n            retuenedName='';\r\n            $(this).closest('.itemQuantityDropdown').find('.itemQuantityDropdown__menuOption').each(function() {              \r\n                thisItemQuantity = +$(this).children('.itemQuantityDropdown__currentQuantity').html();\r\n                // itemQuantity\r\n                // alert(thisItemQuantity);\r\n                itemName = $(this).children('.itemQuantityDropdown__item').html();\r\n                // alert(itemName);\r\n                if(itemName.toLowerCase().startsWith(\"спал\")){\r\n                    // alert(itemName);    \r\n                    itemName = numNameChange(thisItemQuantity,numBedroom);    \r\n                }\r\n                if(itemName.toLowerCase().startsWith(\"кров\")) {\r\n                    itemName = numNameChange(thisItemQuantity,numBed);    \r\n                }\r\n                if(itemName.toLowerCase().startsWith(\"ванн\")) {\r\n                    itemName = numNameChange(thisItemQuantity,numBathroom);    \r\n                }\r\n                if (thisItemQuantity) {\r\n                    retuenedName = retuenedName + thisItemQuantity + itemName + ', ';\r\n                }\r\n            });\r\n            retuenedName = retuenedName.slice(0,-2);\r\n            $(this).closest('.itemQuantityDropdown').find('.itemQuantityDropdown__selection').html(retuenedName);\r\n        }\r\n        else {\r\n            $(this).closest('.itemQuantityDropdown').find('.itemQuantityDropdown__selection').html('Выберите удобства');\r\n        }\r\n    }\r\n    else {\r\n\r\n        retuenedName = numNameChange(itemQuantity,numNamesGuest);\r\n\r\n\r\n        $(this).closest('.itemQuantityDropdown').find('.itemQuantityDropdown__selection').html(itemQuantity+retuenedName);\r\n\r\n        if (itemQuantity == 0) {\r\n            $(this).closest('.itemQuantityDropdown').find('.itemQuantityDropdown__selection').html('Сколько гостей');\r\n\r\n            $(this).closest('.itemQuantityDropdown__dropdownMenu').find('.itemQuantityDropdown__controlButton--minus').prop('disabled',true);\r\n            $(this).closest('.itemQuantityDropdown__dropdownMenu').find('.itemQuantityDropdown__clearButton').css(\"display\",\"none\");\r\n        } else {\r\n            $(this).closest('.itemQuantityDropdown__dropdownMenu').find('.itemQuantityDropdown__clearButton').css(\"display\",\"block\");\r\n        }\r\n    }\r\n}\r\n\r\n$(document).ready(function(){\r\n    let listToggle = '.itemQuantityDropdown__toggle';\r\n    let hiddenList = '.itemQuantityDropdown__dropdownMenu';\r\n\r\n    let plusButton = '.itemQuantityDropdown__controlButton--plus';\r\n    let minusButton = '.itemQuantityDropdown__controlButton--minus';\r\n    let currentQuantity ='.itemQuantityDropdown__currentQuantity';\r\n\r\n    $(this).find('.itemQuantityDropdown__dropdownMenu').each(function(){\r\n        changeHeadline.call(this);\r\n\r\n        $(this).find(currentQuantity).each(function(){\r\n            if(!(+$(this).html())) {\r\n                $(this).siblings(minusButton).prop('disabled',true);\r\n            }\r\n            else {\r\n                $(this).siblings(minusButton).prop('disabled',false);\r\n            }\r\n        });\r\n    });\r\n\r\n    $(listToggle).click(function(){\r\n        // $(this).siblings(hiddenList).toggleClass('visually-hidden');\r\n        $(this).siblings(hiddenList).slideToggle('fast');\r\n    });\r\n\r\n    $(plusButton).click(function(){\r\n        let varQuantity = 0;\r\n\r\n        varQuantity = +$(this).siblings(currentQuantity).html();\r\n        varQuantity++;\r\n        $(this).siblings(currentQuantity).html(varQuantity);\r\n        if(varQuantity) {\r\n            $(this).siblings(minusButton).prop('disabled',false);\r\n        }\r\n\r\n        changeHeadline.call(this);\r\n        \r\n    });\r\n\r\n    $(minusButton).click(function(){\r\n        let varQuantity = 0;\r\n\r\n        varQuantity = +$(this).siblings(currentQuantity).html();\r\n        if(varQuantity) {\r\n            varQuantity--;\r\n            $(this).siblings(currentQuantity).html(varQuantity);\r\n        }\r\n        if(!varQuantity) {\r\n            $(this).prop('disabled',true);\r\n        }\r\n\r\n        changeHeadline.call(this);\r\n        // alert(varQuantity);\r\n    });\r\n\r\n    $('.itemQuantityDropdown__applyButton').click(function(){\r\n        $(this).closest(hiddenList).slideToggle('fast');\r\n    });\r\n\r\n    $('.itemQuantityDropdown__clearButton').click(function(){\r\n        $(this).closest(hiddenList).find(currentQuantity).html(0);\r\n        changeHeadline.call(this);\r\n    });\r\n\r\n});\r\n"]}